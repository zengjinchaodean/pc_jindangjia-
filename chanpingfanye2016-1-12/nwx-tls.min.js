function getVideoQ1Src(a,b,c){a=a.replace(/^\s+|\s+$/gm,"");b=b.replace(/^\s+|\s+$/gm,"");if(a==""||b==""||(b!="msd"&&b!="mp4"&&b!="auto")||typeof(c)!="function"){c("-2");return}$.ajax({url:"http://vv.video.qq.com/getinfo",data:{vids:a,platform:2,charge:0,otype:"json",defaultfmt:b,sb:1,_rnd:(new Date).valueOf()},dataType:"jsonp",success:function(l){try{if(l.s!="o"){c("-2");return}var i="";if(typeof(l.fl)!="undefined"&&l.fl.cnt>0&&typeof(l.fl.fi)!="undefined"&&l.fl.fi.length>0){var q=l.fl.fi;for(var m in q){if(q[m].sl==1){i=q[m].name;break}}}if(typeof(l.vl)=="undefined"||l.vl.cnt==0||typeof(l.vl.vi)=="undefined"||l.vl.vi.length==0){c("-2");return}var k=l.vl.vi[0];if(typeof(k.fn)=="undefined"||k.fn==""){c("-2");return}var d=k.fn;if(typeof(k.fvkey)=="undefined"||k.fvkey==""){c("-2");return}var h=k.fvkey;var g="";if(typeof(k.level)!="undefined"){g=k.level}var e="";if(typeof(k.ul)=="undefined"||typeof(k.ul.ui)=="undefined"||k.ul.ui.length==0){c("-2");return}else{var o=k.ul.ui;var n=new Array();for(var p in o){if(o[p].url.indexOf("video.dispatch.tc.qq.com")>=0){continue}n.push(o[p].url)}if(n.length==0){e=o[Math.floor((Math.random()*o.length))].url}else{e=n[Math.floor((Math.random()*n.length))]}}if(typeof(e)=="undefined"||e==""){c("-2");return}var r=e+d+"?type=mp4&fmt="+i+"&level="+g+"&vkey="+h;if(r.indexOf("http")!=0||r.indexOf(".mp4")==-1){c("-2");return}c(r);return}catch(j){c("-2");return}},error:function(){c("-1");return}})};